import{d as I,M as U,n as w,l as g,aa as M,m as S,o as c,j as i,q as n,F as x,s as C,L as N,t as d,x as f,p as j}from"./index-25e27c34.js";import{_ as q}from"./PaginationBar.vue_vue_type_script_setup_true_lang-8bae18b4.js";import{b as v}from"./route-block-83d24a4e.js";const A={class:"overflow-auto bg-base-100"},D={class:"table table-compact"},F=n("thead",{class:"bg-base-200"},[n("tr",null,[n("td",null,"Logo"),n("td",null,"Token"),n("td",null,"Amount"),n("td",null,"Info"),n("td",null,"Base")])],-1),L={class:"hover"},P=["src"],V=I({__name:"index",props:["chain"],setup(E){const k=U(),p=w(),_=g([]),m=g(new M),b=g({});S(()=>{h(1)});function R(a){var t;const s=(t=p.current)==null?void 0:t.assets;if(s){const e=s.find(o=>o.base===a);if(e)return e}}async function B(a,s){var o,l,r;const t=s.find(u=>u.base.endsWith(a));let e=R(a);if(e&&t)e={...t,...e},e.display=t.display,e.logo=((o=e.logo_URIs)==null?void 0:o.svg)||((l=e.logo_URIs)==null?void 0:l.png)||((r=e.logo_URIs)==null?void 0:r.jpeg)||void 0;else if(t)return t;return e}function h(a){m.value.setPage(a),p.rpc.getBankDenomMetadata().then(async s=>{const t=await p.rpc.getBankSupply(m.value);_.value=await Promise.all(t.supply.map(async e=>{var r,u,y;const o=await B(e.denom,s.metadatas),l=(o==null?void 0:o.symbol)||e.denom;return{denom:l.split("/")[l.split("/").length-1].toUpperCase(),amount:k.tokenAmountNumber({amount:e.amount,denom:l}).toString(),base:o.base||e.denom,info:o.display||e.denom,logo:((r=o==null?void 0:o.logo_URIs)==null?void 0:r.svg)||((u=o==null?void 0:o.logo_URIs)==null?void 0:u.png)||((y=o==null?void 0:o.logo_URIs)==null?void 0:y.jpeg)||"/logo.svg"}})),b.value=t.pagination})}return(a,s)=>(c(),i("div",A,[n("table",D,[F,(c(!0),i(x,null,C(f(_),t=>(c(),i("tr",L,[n("td",null,[t.logo?(c(),i("img",{key:0,src:t.logo,class:"w-7 h-7"},null,8,P)):N("",!0)]),n("td",null,d(t.denom),1),n("td",null,d(t.amount),1),n("td",null,d(t.info),1),n("td",null,d(t.base),1)]))),256))]),j(q,{limit:f(m).limit,total:f(b).total,callback:h},null,8,["limit","total"])]))}});typeof v=="function"&&v(V);export{V as default};
